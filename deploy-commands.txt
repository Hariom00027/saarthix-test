# Copy and paste these commands into your SSH session:

cd ~/test/saarthix-test

# Stop everything
docker-compose down

# Clean up
docker ps -a | grep mongo | awk '{print $1}' | xargs -r docker rm -f
lsof -ti:27018 | xargs -r kill -9 2>/dev/null || fuser -k 27018/tcp 2>/dev/null || true

# Deploy WITHOUT healthcheck dependency first to see logs
docker-compose up --build -d mongodb-test
sleep 10
docker-compose up --build -d backend-test

# Wait and check status
sleep 30

# Check ALL containers (including stopped)
docker ps -a

# Check backend logs (FULL logs, not just tail)
docker-compose logs backend-test

# Check if backend container exists and its status
docker inspect saarthix-test_backend-test_1 2>/dev/null | grep -i "status\|state\|exitcode" || echo "Container not found"

# Try to see what's happening
docker-compose logs --tail=100

# Start frontend
docker-compose up -d frontend-test

# Final status
docker-compose ps
docker ps

# Your app will be available at:
# Frontend: http://103.149.162.194:3001
# Backend: http://103.149.162.194:8081
# Health: http://103.149.162.194:8081/health
